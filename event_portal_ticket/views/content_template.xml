<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--    List of my events-->
    <template id="content" name="My Content">
        <t t-foreach="docs" t-as="o">
            <h2>
                <a t-att-href="'/event/' + str(o.id)">
                    <t t-out="o.name"/>
                </a>
            </h2>
            <hr/>
            <div class="row mt-5" id="informations">
                <div t-if="o.date_begin" class="col-auto col-3 mw-100 mb-2">
                    <strong>Start Date:</strong>
                    <p class="m-0" t-field="o.date_begin"/>
                </div>

                <div t-if="o.date_end" class="col-auto col-3 mw-100 mb-2" name="end_date">
                    <strong>End date:</strong>
                    <p class="m-0" t-field="o.date_end"/>
                </div>
                <div t-if="o.organizer_id.name" class="col-auto col-3 mw-100 mb-2">
                    <strong>Organizer:</strong>
                    <p class="m-0" t-field="o.organizer_id.name"/>
                </div>
                <div t-if="o.user_id.name" class="col-auto col-3 mw-100 mb-2">
                    <strong>Responsible:</strong>
                    <p class="m-0" t-field="o.user_id.name"/>
                </div>
            </div>
            <t t-if="o.seats_expected &gt; 0">
                <div class="row d-flex align-items-stretch">
                    <t t-foreach="registrations" t-as="registration">
                        <div class="s_col_no_bgcolor pt16 pb16 col-lg-3">
                            <div class="card h-100 shadow"
                                 style="border-color: rgb(26, 128, 175) !important; border-style: dashed !important;">
                                <img class="card-img-top o_we_image_cropped"
                                     t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;humanreadable=0' % ('QR', registration.qr_code, 168, 168)"
                                     alt="" loading="lazy"
                                     data-mimetype="image/svg+xml" data-resize-width="400"
                                     style="padding: 20px !important;"/>
                                <div class="card-body" style="text-align: center; padding-top: 0 !important">
                                    <span class="s_badge badge o_animable bg-primary" data-name="Badge"
                                          data-snippet="s_badge">
                                        <i class="fa fa-1x fa-fw fa-folder o_not-animable"/>
                                        <span t-field="registration.state"/>
                                    </span>
                                    <h4 class="card-title" t-field="registration.name" t-options="{'widget': 'text'}"/>
                                    <h6 t-field="registration.event_ticket_id"/>
                                </div>
                                <div class="card-footer" style="text-align: center;">
                                    <a class="btn btn-primary btn-block o_download_btn"
                                       title="Download"
                                       t-attf-href="/report/pdf/event.event_registration_report_template_foldable_badge/#{registration.id}"
                                       download="">
                                        <i class="fa fa-download"/>
                                        Download
                                    </a>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="event_registration_report_template_foldable_badge_inherit"
              inherit_id="event.event_registration_report_template_foldable_badge">
        <xpath expr="//t[@t-foreach='docs']" position="inside">
            <!-- Insert a page break after this attendee's badge -->
            <div style="page-break-after: always;"></div>
        </xpath>
    </template>

</odoo>
